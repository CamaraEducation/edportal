const ContextMenuLib=(()=>{let t=null;const e=(t,e)=>{const n=t.getAttribute("data-cm-bind");if(n){const t=JSON.parse(n);e.boundData=t}},n=(t,e)=>{const n=t.getAttribute("data-cm-callback");if(n&&"function"==typeof window[n]){const t=e.boundData||{};window[n](t)}},i=(e,n)=>{t&&o();const{clientX:i,clientY:c}=e;n.style.display="block";const l=n.offsetWidth,d=n.offsetHeight,a=i+l>window.innerWidth?window.innerWidth-l-10:i,r=c+d>window.innerHeight?window.innerHeight-d-10:c;n.style.left=`${a}px`,n.style.top=`${r}px`,t=n},o=()=>{t&&(t.style.display="none",t=null)};return{init:()=>{document.querySelectorAll(".cm-toggle").forEach(t=>{const n=t.getAttribute("data-cm-target"),o=document.querySelector(n);o&&(t.addEventListener("contextmenu",n=>{n.preventDefault(),e(t,o),i(n,o)}),t.addEventListener("touchstart",n=>{2===n.touches.length&&(n.preventDefault(),e(t,o),i(n,o))}))}),document.addEventListener("click",o),document.querySelectorAll(".context-menu-dialog ul li").forEach(e=>{e.addEventListener("click",()=>{t&&n(e,t)})})}}})();ContextMenuLib.init();
